@using System.Diagnostics.CodeAnalysis
@using Blazix.Separator

@{
    // Separator orientation is perpendicular to the toolbar orientation
    var separatorOrientation = Context?.Orientation == Orientation.Horizontal
        ? Orientation.Vertical
        : Orientation.Horizontal;
}

<SeparatorRoot Orientation="separatorOrientation"
               Decorative="Decorative"
               @attributes="AdditionalAttributes"
               @ref="separator" />

@code {
    private SeparatorRoot? separator;

    [CascadingParameter]
    private ToolbarContext? Context { get; set; }

    /// <summary>
    /// When <see langword="true"/>, signifies that it is purely visual, carries no semantic meaning,
    /// and ensures it is not present in the accessibility tree.
    /// </summary>
    [Parameter]
    public bool Decorative { get; set; }

    /// <summary>
    /// Gets or sets a collection of additional attributes that will be applied to the created element.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }

    /// <summary>
    /// Gets or sets the associated <see cref="ElementReference"/>.
    /// <para>
    /// May be <see langword="null"/> if accessed before the component is rendered.
    /// </para>
    /// </summary>
    [DisallowNull]
    public ElementReference? Element => separator?.Element;
}